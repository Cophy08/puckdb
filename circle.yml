machine:
  python:
    version: 3.5.2
  environment:
    PUCKDB_DATABASE: postgres://ubuntu:@127.0.0.1:5432/circle_test

dependencies:
  override:
    - pip install nose coverage
    - pip install -r requirements.txt

test:
  override:
    - nosetests --with-coverage --with-xunit --xunit-file=$CIRCLE_TEST_REPORTS/nose-results.xml
  post:
    - bash <(curl -s https://codecov.io/bash)